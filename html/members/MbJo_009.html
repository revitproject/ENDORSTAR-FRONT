<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>엔돌스타</title>
  <link rel="shortcut icon" href="../../resources/images/common/favicon.ico">
  <!-- css base -->
  <link rel="stylesheet" href="../../resources/css/base.css">
</head>
<body> 
	<!-- base-wrap -->
	<div class="base-wrap members">
		<!-- header -->
		<header class="base-header">
			<div class="wrap-header">
				<button type="button" class="btn-ico btn-prev"><span class="hidden">이전</span></button>
				<h1 class="header-title">회원정보</h1>
			</div>
		</header>
		<!-- // header -->
	
		<!-- base-content -->
		<main class="base-content">
      <div class="wrap-head">
        <p class="desc">엔돌스타 회원가입을 위한 사용자 정보를 입력해 주세요.</p>
      </div>
      <div class="wrap-body">
        <div class="area-form">
          <form action="" method="">
            <!-- readonly 속성 추가시 .wrap-inp 에 'is-readonly' 클래스 추가(readonly ui 반영) -->
            <div class="wrap-inp is-readonly">
              <label for="inpName" class="lb-inp">이름</label>
              <input type="text" id="inpName" class="inp-base" value="김해피" readonly>
            </div>
            <div class="wrap-inp is-readonly">
              <label for="inpPhonenum" class="lb-inp">휴대폰번호</label>
              <input type="tel" id="inpPhonenum" class="inp-base inp-phone" maxlength="13" placeholder="휴대폰번호 ’-’없이 숫자만 입력" value="010-7777-1111" readonly> <!-- maxlength '-'포함 13 -->
            </div>
            <div class="wrap-inp-group">
              <div class="wrap-inp is-readonly">
                <label for="inpBirthday" class="lb-inp">생년월일</label>
                <input type="text" id="inpBirthday" class="inp-base" maxlength="8" placeholder="ex. 19980201" value="2020년 2월 22일" readonly>
              </div>
              <div class="wrap-inp is-readonly">
                <label for="inpGender" class="lb-inp">성별</label>
                <input type="text" id="inpGender" class="inp-base" value="남자" readonly>
              </div>
            </div>
            <!-- validation error case: 'is-error' 클래스 추가(하기 공통) -->
            <div class="form-validation is-error">
              <div class="wrap-inp inbtn">
                <label for="inpId" class="lb-inp"><em class="text-primary">*</em>아이디</label>
                <input type="text" id="inpId" class="inp-base" placeholder="5~20자의 영문소문자,숫자" required>
                <button type="button" class="btn is-checked">중복체크</button>
              </div>
              <p class="validation">Inline Validation 메시지</p>
            </div>
            <div class="form-validation is-error">
              <div class="wrap-inp">
                <label for="inpPw" class="lb-inp">비밀번호</label>
                <input type="password" id="inpPw" class="inp-base" maxlength="15" placeholder="영문/숫자/특수기호 포함 8~15자 이상">
              </div>
              <p class="validation">Inline Validation 메시지</p>
            </div>
            <div class="form-validation">
              <div class="wrap-inp">
                <label for="inpRePw" class="lb-inp">비밀번호 확인</label>
                <input type="password" id="inpRePw" class="inp-base" maxlength="15" placeholder="비밀번호를 한번 더 입력해주세요.">
              </div>
              <p class="validation"></p>
            </div>
            <div class="form-validation">
              <div class="wrap-inp inbtn">
                <label for="inpEmail" class="lb-inp"><em class="text-primary">*</em>이메일</label>
                <input type="email" id="inpEmail" class="inp-base" placeholder="이메일 입력해주세요." required>
                <button type="button" id="checkEmailButton" class="btn is-checked">중복체크</button>
              </div>
              <p class="validation"></p>
            </div>
            <div class="form-validation">
              <div class="wrap-inp inbtn is-active">
                <label for="inpNickname" class="lb-inp">닉네임</label>
                <input type="text" id="inpNickname" class="inp-base is-cancel" value="나는진짜몽임">
                <button type="button" class="btn is-checked">바꿔줘요</button>
                <button type="button" class="btn btn-cancel" id="btnCancelNickname"><span class="hidden">취소</span></button>
              </div>
              <p class="validation"></p>
            </div>
            <div class="form-validation">
              <div class="wrap-inp">
                <label for="inpFrcode" class="lb-inp">친구코드</label>
                <input type="text" id="inpFrcode" class="inp-base" placeholder="(선택)친구코드를 입력해세요.">
              </div>
              <p class="validation"></p>
            </div>
          </form>
        </div>
      </div>
		</main>
		<!-- //base-content -->

    <!-- footer -->
    <footer class="base-footer">
      <div class="wrap-footer">
				<div class="btn-group">
          <button type="button" class="btn is-primary" id="submitButton">회원가입</button>
				</div>
			</div>
    </footer>
    <!-- // footer -->
	</div>
	<!-- //base-wrap -->
	
	<!-- js library -->
	<script src="../../resources/js/lib/jquery.min.js"></script>
	<!-- js base -->
	<script src="../../resources/js/common/ui.common.js"></script>
  <script src="../../resources/js/common/ui.template.js"></script>

  <!-- page script -->
  <script>
    // UI 확인용 스크립트
    document.addEventListener('DOMContentLoaded', function() {
      const nicknameInput = document.getElementById('inpNickname'); // 닉네임 input
      const cancelNicknameButton = document.getElementById('btnCancelNickname'); // 닉네임 input 취소버튼
      const phoneInput = document.getElementById('inpPhonenum'); // 휴대폰번호 input
  
      // 닉네임 input 이벤트
      nicknameInput.addEventListener('input', function () {
        cancelNicknameButton.style.display = 'inline-block';
      });
  

      // 취소 버튼 클릭 이벤트
      cancelNicknameButton.addEventListener('click', function () {
        nicknameInput.value = '자동생성된닉네임';
        this.style.display = 'none';
      });
  
      // 공통 클래스 토글 함수
      function toggleButtonClass(input) {
        const parent = input.closest('.wrap-inp.inbtn');
        if (parent) {
          const button = parent.querySelector('.is-checked');
          button.classList.toggle('on', input.value.trim() !== '');
        }
      }
  
      // 모든 입력 필드에 클래스 토글 함수 적용
      document.querySelectorAll('.wrap-inp .inp-base').forEach(input => {
        input.addEventListener('input', function() {
          toggleButtonClass(this);
        });
      });
  
      // 휴대폰 번호 포맷팅 적용
      if (phoneInput) {
        formatPhoneNumber(phoneInput); 
      }
    });
  </script>  
  <!-- //page script -->
	</body>
</html>